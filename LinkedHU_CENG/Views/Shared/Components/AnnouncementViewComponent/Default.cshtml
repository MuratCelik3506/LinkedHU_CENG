@model IEnumerable<LinkedHU_CENG.Models.Announcement>

@{
    var sessionUserID = ViewData["SessionUserId"] as Int32?;
}

<div class="container p-3" style=" margin-top:-80px;">
    <br /><br />


    <table class="table table-bordered table-striped" style="width:100%;">


        @foreach (var obj in Model.OrderByDescending(a => a.AnnouncementId))
        {

            <div class="container p-3 mt-4  custom-shadow1" style="; background:#FFFFFF; margin-left:233px;width:362px ;box-shadow: rgba(149, 157, 165, 0.2) 0px 8px 24px;">        
                    <div class="text-end">
                        @if (sessionUserID == obj.UserId)
                        {

                            <div class="dropdown">
                                <a class="dropdown-toggle my-2 my-sm-0" href="#" role="button" data-bs-toggle="dropdown" style="text-decoration: none;">Edit</a>

                                <div class="dropdown-menu dropdown-menu-end">
                                    <a style=" color:rgb(39, 55, 76);"  asp-controller="Announcement" asp-action="Update" asp-route-id="@obj.AnnouncementId"
                               class="dropdown-item mx-2 w-75"> <i class="bi bi-pencil-square"></i> Update</a>

                                    <a style=" color:rgb(39, 55, 76);"  asp-controller="Announcement" asp-action="Delete" asp-route-id="@obj.AnnouncementId"
                               class="dropdown-item mx-2 w-75"> <i class="bi bi-trash-fill"></i> Delete</a>

                                </div>
                            </div>
                        }
                    </div>
                    @if (obj.UserProfilePicture == null)
                    {
                        <a asp-controller="User" asp-action="ViewProfile" asp-route-id="@obj.UserId" class="dropdown-item mx-2 w-75" style="width:75%; padding:0px; margin:0px;">
                            <img src="https://static.thenounproject.com/png/2518416-200.png" class="rounded-circle" height="50" width="50" asp-append-version="true" />
                            <span style="margin-left:5px; font-size:18px; color:rgb(39, 55, 76);"> @obj.UserName</span>
                        </a>
                    }
                    else
                    {
                        <a asp-controller="User" asp-action="ViewProfile" asp-route-id="@obj.UserId" class="dropdown-item mx-2 w-75" style="width:75%; padding:0px; margin:0px;">
                            <img src="~/profilePictures/@obj.UserProfilePicture" class="rounded-circle" height="50" width="50" asp-append-version="true" />
                            <span style="margin-left:5px; font-size:18px; color:rgb(39, 55, 76);"> @obj.UserName</span>
                        </a>
                    }
                    <span style="margin-left:5px; font-size:12px; color:rgb(39, 55, 76);"> @obj.CreatedAt</span>
                    <br /> <br />
                    <h6><span style="margin-left:5px; font-size:18px; color:rgb(39, 55, 76);"> @obj.Content</span></h6>

            </div>

            <br />
        }

    </table>
</div>